[Interface]
# Private key is generated on first boot per-device
# PrivateKey = <auto-generated>
Address = 10.73.0.0/24
ListenPort = 51820
DNS = 1.1.1.1, 8.8.8.8

# SOS Mesh VPN Network: 10.73.0.0/24
# Each node gets 10.73.0.X where X is random (2-254)
# Peers are discovered via mesh beacon broadcast
# and added dynamically by the sos-mesh-daemon

PostUp = iptables -A FORWARD -i %i -j ACCEPT; iptables -t nat -A POSTROUTING -o wlan0 -j MASQUERADE
PostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -t nat -D POSTROUTING -o wlan0 -j MASQUERADE

# === AUTO-DISCOVERED PEERS ===
# Peers below this line are managed by sos-mesh-daemon
# DO NOT EDIT MANUALLY

# [Peer]
# PublicKey = <discovered-via-beacon>
# AllowedIPs = 10.73.0.X/32
# Endpoint = <mesh-ip>:51820
# PersistentKeepalive = 25
